@using BizLogic;
@model DataLayer.Game
@{
    ViewBag.Title = "Board";
}

<h2>Board</h2>
<p>@ViewBag.Message</p>
<p>@ViewBag.Turn</p>
@{
    var db = new DataLayer.Entities();
    bool?[,] array = Model.switchToBools(db);
    var currentPerson = (from p in db.Persons where p.UserName == User.Identity.Name select p).FirstOrDefault();
}
    @helper ViewHelper(bool? i)
    {
if (i == null)
{ <td></td> }

else if (i == true)
{ <td><img width="15" src="/Content/red.png" /></td> }

else if (i == false)
{ <td><img width="15" src="/Content/black.png" /></td> }
}
@if(!currentPerson.answeredMathQuestion)
{
    //the code to ask a math question
}

<table>
    @{ 

        for (int i = 0; i < Model.maxRows; i++)
        {
            @Html.Raw("<tr>");
            for (int j = 0; j < Model.maxRows; j++)
            {
                @Html.Raw((ViewHelper(array[i, j])));

            }
                  @Html.Raw("</tr>");
            }
        }
</table>
@if (currentPerson.answeredMathQuestion)
{
    using (Html.BeginForm(FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        for (int j = 0; j < Model.maxCols; j++)
        {
            @Html.RadioButton("col", j);

        }
        
    }
}


@using (Html.BeginForm(FormMethod.Post))
{
    @Html.Raw("<input type='button' name = 'button' value='cancel' />");
}